{% extends 'common/panel.html' %}

{% load percentage %}
{% load humanize %}

{% block title %}Area of Interest Wind Energy Report{% endblock %}
{% block panel %}

<script type="text/javascript" charset="utf-8">
    lingcod.onShow(function(){
        $('img.info').each( function() {
            var id = $(this).attr('id');
            var text = "none";
            topMiddle = false;
            topLeft = false;
            switch(id) {
                //Conservation Biological Reports
                //Physical
                case 'info_wind_depth':
                    text  = "Reports minimum, maximum, and average depth within your Area of Interest, based on Bathymetry layer, TNC, 2011. Compare to a suggested depth range of 0-200 (NREL 2011).";
                    break;
                case 'info_wind_substrate':
                    text  = "Reports area for substrate type within your Area of Interest and calculate percentage of total available by type, based on Substrate layer, TNC 2011.";
                    break;
                case 'info_wind_potential':
                    text  = "Reports area for wind potential class, wind density, and wind speed by type within your Area of Interest, based on 50-meter Height Wind Power Class layer, NREL, 2011. Compare to a minimum wind potential class minimum wind speed of 15.7 mph (NREL 2007).";
                    break;
                default:
                    $(this).hide();
            }
            if (text!='none' && topMiddle) {
                $(this).qtip({
                    content: text, 
                    show: { 
                        delay: 0,
                        when: { event: 'mouseover' } 
                    },
                    position: {
                        corner: {
                            target: 'topMiddle',
                            tooltip: 'bottomMiddle'
                        }
                    },
                    hide: { when: {event: 'mouseleave'} },
                    style: { 
                        width: 320,
                        name: 'blue' 
                    }
                });
            } else if (text!='none' && topLeft) {
                $(this).qtip({
                    content: text, 
                    show: { 
                        delay: 0,
                        when: { event: 'mouseover' } 
                    },
                    position: {
                        corner: {
                            target: 'topRight',
                            tooltip: 'bottomRight'
                        }
                    },
                    hide: { when: {event: 'mouseleave'} },
                    style: { 
                        width: 300,
                        name: 'blue' 
                    }
                });
            } else if (text!='none') {
                $(this).qtip({
                    content: text, 
                    show: { 
                        delay: 0,
                        when: { event: 'mouseover' } 
                    },
                    position: {
                        corner: {
                            target: 'rightMiddle',
                            tooltip: 'leftMiddle'
                        }
                    },
                    hide: { when: {event: 'mouseleave'} },
                    style: { 
                        width: 300,
                        name: 'blue' 
                    }
                });
            }
        });             
        
    });
    
</script>

<div class='freetext'>
<h3>Depth Range<img src="/media/wmm/img/info.png" id="info_wind_depth" class="info"/></h3>
<p>
<table  style='width:430px' class='analysis_container'>
    <tbody>
        <tr class="grey">
            <td><b>Min Depth</b></td>
            <td><b>Max Depth</b></td>
            <td><b>Average Depth</b></td>
        </tr>
        <tr>
            <td>{{min_depth|floatformat:0|intcomma}} feet {{min_depth_postscript}}</td>
            <td>{{max_depth|floatformat:0|intcomma}} feet {{max_depth_postscript}}</td>
            <td>{{avg_depth|floatformat:0|intcomma}} feet {{avg_depth_postscript}}</td>
        </tr>
    </tbody>
</table>

<h3>Substrate<img src="/media/wmm/img/info.png" id="info_wind_substrate" class="info"/></h3>
<p>
<table  style='width:430px' class='analysis_container'>
    <tbody>
        <tr class="grey">
            <td colspan="3"><b>Substrate Types</b></td>
        </tr>
        {% if substrate_count > 0 %}
        {% for substrate in substrates %}
        <tr>
            <td class="left">{{substrate.0}}</td>
            <td class="right">{{substrate.1|floatformat:1}} sq miles </td>
            <td class="right">({{substrate.2|percentage:1}} of available {{substrate.0}})</td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td></td>
            <td>None Found</td>
            <td></td>
        </tr>
        {% endif %}
    </tbody>
</table>

<h3>Wind Potential<img src="/media/wmm/img/info.png" id="info_wind_potential" class="info"/></h3>
<p>
<table  style='width:430px' class='analysis_container'>
    <tbody>
        <tr class="grey">
            <td colspan="3"><b>Wind Class</b></td>
        </tr>
        {% if wind_power_count > 0 %}
        {% for potential in wind_power_tuples %}
        <tr>
            <td class="left">{{potential.0}}</td>
            <td class="right">{{potential.1|floatformat:1}} sq miles </td>
            <td class="right">({{potential.2}})</td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td></td>
            <td>None Found</td>
            <td></td>
        </tr>
        {% endif %}
    </tbody>
</table>

</div>


<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script type="text/javascript">
function toggleDiv(divId, srcId) {
   $("#"+divId).toggle();
    if ($("#"+srcId).text() == 'Learn More') { 
        $("#"+srcId).text('Hide Text'); 
    } else { 
        $("#"+srcId).text('Learn More'); 
    }
}

</script>

{% endblock %}